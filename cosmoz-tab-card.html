<link rel="import" href="../iron-collapse/iron-collapse.html" />
<link rel="import" href="../iron-icon/iron-icon.html" />
<link rel="import" href="../iron-icons/iron-icons.html" />
<link rel="import" href="../iron-resizable-behavior/iron-resizable-behavior.html" />
<link rel="import" href="../paper-icon-button/paper-icon-button.html" />
<link rel="import" href="../paper-material/paper-material.html" />
<link rel="import" href="cosmoz-bind-parent-child-behavior.html" />

<dom-module id="cosmoz-tab-card">
	<template>
		<style>

			:host {
				display: block;
			}

			:host(:not(.cosmoz-tab-card-accordion)) {
				width: var(--cosmoz-tab-card-width, 300px);
				border-radius: 3px;
				margin: 15px;
			}

			:host(:not(.cosmoz-tab-card-accordion)) h1.heading {
				margin: 0.67em 0 0;
			}

			:host(.cosmoz-tab-card-accordion) {
				width: 100%;
			}

			#tabCard {
				background-color: #fff;
				@apply --cosmoz-tab-card;
			}

			:host(.cosmoz-tab-card-accordion) #tabCard {
				background-color: #fafafa;
				@apply --cosmoz-tab-card-accordion;
			}

	  		#tabCardContent {
	  			@apply --cosmoz-tab-card-content;
	  		}

	  		:host(.cosmoz-tab-card-accordion) #tabCardContent {
	  			@apply --cosmoz-tab-card-content-accordion;
	  		}

	  		#tabCardHeader {
	  			background-color: #fff;
				cursor: default;
				-webkit-tap-highlight-color: rgba(0,0,0,0);
				@apply --layout-horizontal;
				@apply --layout-center;
  				@apply --cosmoz-tab-card-header;
  			}

	  		:host(.cosmoz-tab-card-accordion) #tabCardHeader {
	  			border-bottom: 1px solid #e2e2e2;
				cursor: pointer;
	  			@apply --cosmoz-tab-card-header-accordion;
	  		}

	  		:host(.cosmoz-tab-card-accordion.cosmoz-tab-card-opened) #tabCardHeader {
	  			background-color: #efefef;
	  		}

	  		#tabCardHeaderIcon {
				height: 13px;
				width: 13px;
				margin: 0 9px;
			}

			#tabCardHeader paper-icon-button {
				--iron-icon-width: 24px;
				--iron-icon-height: 24px;
			}

			h1.heading {
				font-family: sans-serif;
				font-size: 17px;
				font-weight: 400;
				@apply --layout-flex;
			}

			[hidden] {
				display: none;
			}

		</style>

		<paper-material id="tabCard" elevation="[[ elevation ]]">
			<div id="tabCardHeader" on-tap="_onCardActivate">
				<iron-icon id="tabCardHeaderIcon" hidden$="[[ !accordion ]]"
					icon="{{ icon }}" style$="{{ _computeIconStyle(iconColor)}}"></iron-icon>
				<h1 class="heading">[[ heading ]]</h1>
				<slot name="card-actions"></slot>
				<paper-icon-button hidden$="[[ !accordion ]]" icon$="{{ _computeOpenedIcon(opened) }}"></paper-icon-button>
			</div>
			<iron-collapse id="collapse">
				<div id="tabCardContent">
					<slot></slot>
				</div>
			</iron-collapse>
		</paper-material>
	</template>
	<script type="text/javascript" src="cosmoz-tab-card.js"></script>
</dom-module>
